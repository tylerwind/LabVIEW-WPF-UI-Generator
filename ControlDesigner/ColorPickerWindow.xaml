<Window x:Class="ControlDesigner.ColorPickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="选择颜色" Width="400" Height="580"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Background="#1E1E34">

    <DockPanel Margin="16">
        <!-- 顶部：当前颜色预览 + Hex 输入 -->
        <DockPanel DockPanel.Dock="Top" Margin="0,0,0,12">
            <Border x:Name="CurrentColorPreview" DockPanel.Dock="Left"
                    Width="48" Height="48" CornerRadius="8"
                    BorderBrush="#555" BorderThickness="1" Margin="0,0,12,0"/>
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="Hex 色值" FontSize="11" Foreground="#888AAA" Margin="0,0,0,4"/>
                <TextBox x:Name="TxtHex" FontFamily="Consolas" FontSize="16" FontWeight="Bold"
                         Foreground="#E0E0F0" Background="#2A2A44" BorderBrush="#3A3A58"
                         BorderThickness="1" Padding="8,4" TextChanged="TxtHex_Changed"/>
            </StackPanel>
        </DockPanel>

        <!-- 底部：确定/取消按钮 -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button x:Name="BtnOk" Content="确定" Width="80" Height="32"
                    FontFamily="Segoe UI" FontSize="13" FontWeight="SemiBold"
                    Foreground="White" Background="#4A6FA5" BorderBrush="#5A7FB5"
                    Cursor="Hand" Click="BtnOk_Click" IsDefault="True">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="6" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button x:Name="BtnCancel" Content="取消" Width="80" Height="32" Margin="8,0,0,0"
                    FontFamily="Segoe UI" FontSize="13"
                    Foreground="#AAAACC" Background="#2A2A44" BorderBrush="#3A3A58"
                    Cursor="Hand" Click="BtnCancel_Click" IsCancel="True">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="6" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </StackPanel>

        <!-- 中间：色板滚动区域 -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="0,4,0,0">
            <StackPanel>
                <TextBlock Text="基础色" FontSize="11" FontWeight="SemiBold"
                           Foreground="#7878A0" Margin="0,4,0,4"/>
                <WrapPanel x:Name="BasicColorPanel" Margin="0,0,0,8"/>

                <TextBlock Text="灰度" FontSize="11" FontWeight="SemiBold"
                           Foreground="#7878A0" Margin="0,4,0,4"/>
                <WrapPanel x:Name="GrayColorPanel" Margin="0,0,0,8"/>

                <TextBlock Text="推荐配色" FontSize="11" FontWeight="SemiBold"
                           Foreground="#7878A0" Margin="0,4,0,4"/>
                <WrapPanel x:Name="RecommendedPanel" Margin="0,0,0,4"/>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>
